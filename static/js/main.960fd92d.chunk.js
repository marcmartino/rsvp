(this.webpackJsonprsvp=this.webpackJsonprsvp||[]).push([[0],{116:function(e,t,n){},117:function(e,t,n){},266:function(e,t,n){},271:function(e,t,n){"use strict";n.r(t);var i=n(2),c=n.n(i),o=n(103),r=n.n(o),a=(n(116),n(61)),d=n(21);a.a.use(d.e).init({resources:{en:{translation:{"dashboard.updateWeddingRsvpButton":"Update Wedding RSVP ({{accepted}}accepted/{{declined}}declined)","dashboard.setWeddingRsvpButton":"RSVP to the wedding",welcome:"Welcome","loginPage.title":"Log In","loginPage.nameInput":"Name","loginPage.zipInput":"Zip Code","loginPage.submitButton":"Log In",userGreeting:"Welcome, {{name}}",coupleGreeting:"Welcome {{name}} and {{soName}}","welcome.date":"10.23.21","welcome.location":"Las Vegas, NV","welcome.line1":"Jenna (Jieun) &","welcome.line2":"Marc","welcome.enterButton":"RSVP","receptionInfo.title":"Reception","receptionInfo.location":"The Blind Center","receptionInfo.time":"5:00pm","weddingInfo.title":"Wedding","weddingInfo.weddingLocation":"Red Springs Boardwalk","weddingInfo.time":"10:00am",moreInfo:"More Info",noInviteeFound:"Invitee not found- Please try again or reach out directly to Marc or Jenna",jsonParse:"Failed to parse api response","weddingVenue.long":"-115.4191462","weddingVenue.lat":"36.1464701","weddingVenue.address":"Las Vegas, NV 89161",clickForMap:"\ud83d\uddfa\ufe0f","weddingRsvp.set":"Wedding RSVP already set",updateRsvp:"Update RSVP",setRsvp:"RSVP Here"}},kr:{translation:{welcome:"\ud658\uc601\ud558\ub2e4"}}},fallbackLng:"en",interpolation:{escapeValue:!1}});a.a,n(117);var l=n(34),s=n(9),u=n(273),j=n(1),g=n(4),b=Object(j.c)([Object(j.c)([Object(j.h)({zip:j.g,weddingAccess:j.b,receptionAccess:j.b}),Object(j.h)({displayName:j.g,recordName:j.g,id:j.e}),Object(j.i)([Object(j.h)({}),Object(j.h)({familyName:j.g,familyNames:Object(j.a)(j.g),familyKey:j.g}),Object(j.h)({soName:j.g,familyKey:j.g})])]),Object(j.f)({weddingAcceptedCount:j.e,weddingDeclinedCount:j.e,receptionAcceptedCount:j.e,receptionDeclinedCount:j.e})]),p=Object(j.h)({acceptCount:j.e,declineCount:j.e,notes:j.g}),h=Object(j.f)({wedding:p,reception:Object(j.c)([Object(j.h)({foodPreferences:Object(j.a)(Object(j.i)([Object(j.d)("vegetarian"),Object(j.d)("pescetarian"),Object(j.d)("chicken"),Object(j.d)("beef")])),attendeeNames:Object(j.a)(j.g),childrenAttendingCount:j.e}),p])}),m=Object(j.h)({name:j.g,zip:j.g}),f=(Object(j.c)([h,m,Object(j.f)({familyName:j.g})]),"https://wrsvp-api.herokuapp.com/"),O={method:"POST",url:"".concat(f,"authorizeUser"),input:{name:"",zip:""},decoder:b},v=("".concat(f,"rsvp"),j.j,n(108)),x=n.n(v),w=n(109),y=n.n(w),C=n(110),I=n.n(C),S=n(111),k=n.n(S),P=n(3),N={square:{folderName:"square",itemCount:9},tall:{folderName:"3-2",itemCount:5},wide:{folderName:"4-3",itemCount:6}},z=function(e){return function(t){return Object(P.c)(t,(function(){return y()(1,e)}),x.a,I()(t))}},F="#8F5D5D",V="#3D405B",R="#F4F1DE",D="#EAB69F",B=F,A="#F2CC8F",L=F,W=n(0),E=function(e){var t=e.onPress,n=e.label;return Object(W.jsx)("button",{onClick:t,style:{borderWidth:0,borderColor:A,backgroundColor:B,height:"8vh",width:"100%",color:R,fontSize:"1.5em",fontWeight:"bold",borderStyle:"solid"},children:n})},J=(n(266),n(274)),M=function(e){var t=e.onSubmit,n=e.submitting,c=e.error,o=Object(u.a)().t,r=Object(i.useState)({name:"",zip:""}),a=Object(s.a)(r,2),d=a[0],l=d.name,j=d.zip,g=a[1];return Object(W.jsx)("div",{children:Object(W.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t({name:l,zip:j})},style:{display:"flex",height:"40vh",flexDirection:"column",justifyContent:"space-between"},children:[Object(W.jsx)("header",{children:Object(W.jsx)("h1",{style:{color:V},children:o("loginPage.title")})}),Object(W.jsxs)("div",{children:[Object(W.jsx)("div",{children:Object(W.jsx)("input",{placeholder:o("loginPage.nameInput"),className:"inputField",type:"text",inputMode:"text",onChange:function(e){return g((function(t){return{zip:t.zip,name:e.target.value}}))}})}),Object(W.jsx)("div",{children:Object(W.jsx)("input",{placeholder:o("loginPage.zipInput"),className:"inputField",type:"text",pattern:"[0-9]*",inputMode:"numeric",onChange:function(e){return g((function(t){return{name:t.name,zip:e.target.value}}))}})})]}),c&&Object(W.jsx)("span",{style:{color:L,padding:"0 5vw"},children:c}),Object(W.jsxs)("button",{disabled:n||!l||!j,style:{backgroundColor:V,color:R},className:"loginButton",onClick:function(){return t({name:l,zip:j})},children:[o("loginPage.submitButton"),n&&Object(W.jsx)(J.a,{style:{marginLeft:7.5},size:25,color:R,thickness:3})]})]})})},T=function(e){var t=Object.assign({},e),n=Object(u.a)().t,c=Object(i.useState)(!1),o=Object(s.a)(c,2),r=o[0],a=o[1];Object(i.useEffect)((function(){fetch("https://wrsvp-api.herokuapp.com/")}),[]);var d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(t){return Object(P.c)(e,z(N[t].itemCount),k()((function(e){return"".concat("","/bgImages/").concat(N[t].folderName,"/").concat(e,".jpg")})))}}(2)("wide");return Object(W.jsx)("div",{children:Object(W.jsxs)("div",{className:"splashEnter",style:{backgroundColor:R},children:[Object(W.jsx)("div",{style:{height:"30vh",backgroundImage:"url('".concat(d[0],"')"),backgroundSize:"cover",backgroundPosition:"center"}}),r?Object(W.jsx)("div",{style:{height:"40vh"},children:Object(W.jsx)(M,Object(l.a)({},t))}):Object(W.jsxs)("a",{href:"#",onClick:function(){return a(!0)},style:{display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",textDecoration:"none",color:V,backgroundColor:R,height:"40vh"},children:[Object(W.jsx)("div",{}),Object(W.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"flex-start"},children:[Object(W.jsxs)("p",{style:{textAlign:"left",lineHeight:"1em"},children:[n("welcome.date"),Object(W.jsx)("br",{}),n("welcome.location")]}),Object(W.jsx)("h1",{style:{lineHeight:"1.1em"},children:n("welcome.line1")}),Object(W.jsx)("h1",{style:{lineHeight:"1.1em"},children:n("welcome.line2")})]}),Object(W.jsx)(E,{onPress:function(){return a(!0)},label:n("welcome.enterButton")})]}),Object(W.jsx)("div",{style:{height:"30vh",backgroundImage:"url('".concat(d[1],"')"),backgroundSize:"cover",backgroundPosition:"center"}})]})})},H="RSVP_AUTH",U=function(){var e=function(e){var t=Object(u.a)().t,n=Object(i.useState)({data:void 0,loading:!1,error:void 0}),c=Object(s.a)(n,2),o=c[0],r=c[1];return[function(n){return r({data:void 0,loading:!0,error:void 0}),fetch(e.url,{method:e.method,headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return 200===e.status?e.json():new Error(t("noInviteeFound"))})).then((function(t){return e.decoder.decode(t)})).then(g.c((function(e){return r({data:void 0,loading:!1,error:e[0].message||t("noInviteeFound")})}),(function(e){return r({data:e,loading:!1,error:void 0})}))).catch((function(e){return r((function(){return{error:e.toString(),loading:!1}}))}))},o]}(O),t=Object(s.a)(e,2),n=t[0],c=t[1],o=c.data,r=c.error,a=c.loading,d=Object(i.useState)(),l=Object(s.a)(d,2),j=l[0],b=l[1];return Object(i.useEffect)((function(){var e=window.localStorage.getItem(H);if(e)try{var t=JSON.parse(e);t.name&&n(t).then((function(){return b(t)}))}catch(i){}}),[]),Object(i.useEffect)((function(){o&&!r&&!a&&j&&window.localStorage.setItem(H,JSON.stringify(j))}),[o,r,a,j]),{signIn:function(e){b({name:e.name.trim(),zip:e.zip.trim()}),n({name:e.name.trim(),zip:e.zip.trim()}).catch((function(){return"error loging in"}))},signOut:function(){window.localStorage.removeItem(H),b(void 0),window.location.reload()},results:e[1]}},G=function(e){e.auth;var t=Object(u.a)().t;return Object(W.jsxs)("div",{children:[Object(W.jsx)("h3",{children:t("receptionInfo.title")}),Object(W.jsx)("div",{children:t("welcome.date")}),Object(W.jsx)("div",{children:t("receptionInfo.location")}),Object(W.jsx)("div",{children:t("receptionInfo.time")}),Object(W.jsx)("button",{children:t("moreInfo")})]})},q=function(e){var t,n,i=e.auth,c=Object(u.a)().t;return Object(W.jsxs)("div",{style:{backgroundColor:D,width:"90%",padding:"5px 0 0"},children:[Object(W.jsx)("h2",{children:c("weddingInfo.title")}),Object(W.jsxs)("div",{style:{flexDirection:"row",display:"flex",justifyContent:"center",alignItems:"center",marginBottom:15},children:[Object(W.jsxs)("div",{children:[Object(W.jsx)("div",{children:c("weddingInfo.weddingLocation")}),Object(W.jsx)("div",{children:c("weddingVenue.address")})]}),Object(W.jsx)("div",{children:Object(W.jsx)("a",{target:"_blank",rel:"noreferrer",href:(t=c("weddingVenue.lat"),n=c("weddingVenue.long"),-1!==navigator.platform.indexOf("iPhone")||-1!==navigator.platform.indexOf("iPad")||-1!==navigator.platform.indexOf("iPod")?"maps://maps.google.com/maps?daddr=".concat(t,",").concat(n,"&amp;ll="):"https://maps.google.com/maps?daddr=".concat(t,",").concat(n,"&amp;ll=")),style:{backgroundColor:A,padding:10,marginLeft:10,boxShadow:"2px 2px 4px rgba(0,0,0,.5)"},children:c("clickForMap")})})]}),Object(W.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-evenly",marginBottom:15},children:[Object(W.jsx)("div",{children:c("welcome.date")}),Object(W.jsx)("div",{children:c("weddingInfo.time")})]}),void 0!==(null===i||void 0===i?void 0:i.weddingAcceptedCount)&&(null===i||void 0===i?void 0:i.weddingDeclinedCount)?Object(W.jsxs)("div",{children:[c("weddingRsvp.set"),Object(W.jsx)("button",{children:c("updateRsvp")})]}):Object(W.jsx)("button",{style:{width:"100%",backgroundColor:V,color:R,borderWidth:0,padding:"10px 0",fontSize:"1.5em"},children:c("setRsvp")})]})},K=function(e){var t=e.auth,n=Object(u.a)().t;return console.log(t),Object(W.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:R,flex:1},children:[Object(W.jsx)("h1",{children:n("userGreeting",{name:t.displayName})}),t.weddingAccess&&Object(W.jsx)(q,{auth:t}),t.receptionAccess&&Object(W.jsx)(G,{auth:t})]})};var _=function(){var e=U(),t=e.signIn,n=(e.signOut,e.results),i=n.data,c=n.loading,o=n.error;return Object(W.jsx)("div",{className:"App",children:i?Object(W.jsx)(K,{auth:i}):Object(W.jsx)(T,{onSubmit:function(e){return t(e)},submitting:c,error:o})})},Z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,275)).then((function(t){var n=t.getCLS,i=t.getFID,c=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),i(e),c(e),o(e),r(e)}))};r.a.render(Object(W.jsx)(c.a.StrictMode,{children:Object(W.jsx)(_,{})}),document.getElementById("root")),Z()}},[[271,1,2]]]);
//# sourceMappingURL=main.960fd92d.chunk.js.map