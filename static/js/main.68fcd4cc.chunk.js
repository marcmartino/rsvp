(this.webpackJsonprsvp=this.webpackJsonprsvp||[]).push([[0],{116:function(e,t,n){},117:function(e,t,n){},266:function(e,t,n){},271:function(e,t,n){"use strict";n.r(t);var i=n(2),c=n.n(i),o=n(103),r=n.n(o),a=(n(116),n(61)),d=n(21);a.a.use(d.e).init({resources:{en:{translation:{"dashboard.updateWeddingRsvpButton":"Update Wedding RSVP ({{accepted}}accepted/{{declined}}declined)","dashboard.setWeddingRsvpButton":"RSVP to the wedding",welcome:"Welcome","loginPage.title":"Log In","loginPage.nameInput":"Name","loginPage.zipInput":"Zip Code","loginPage.submitButton":"Log In",userGreeting:"Welcome, {{name}}",coupleGreeting:"Welcome {{name}} and {{soName}}","welcome.date":"10.23.21","welcome.location":"Las Vegas, NV","welcome.line1":"Jenna (Jieun) &","welcome.line2":"Marc","welcome.enterButton":"RSVP","receptionInfo.title":"Reception","receptionInfo.location":"The Blind Center","receptionInfo.time":"5:00pm","weddingInfo.title":"Wedding","weddingInfo.weddingLocation":"Red Springs Boardwalk","weddingInfo.time":"10:00am",moreInfo:"More Info",noInviteeFound:"Invitee not found- Please try again or reach out directly to Marc or Jenna",jsonParse:"Failed to parse api response","weddingVenue.long":"-115.4191462","weddingVenue.lat":"36.1464701"}},kr:{translation:{welcome:"\ud658\uc601\ud558\ub2e4"}}},fallbackLng:"en",interpolation:{escapeValue:!1}});a.a,n(117);var l=n(34),s=n(9),u=n(273),j=n(1),b=n(4),g=Object(j.c)([Object(j.c)([Object(j.h)({zip:j.g,weddingAccess:j.b,receptionAccess:j.b}),Object(j.h)({displayName:j.g,recordName:j.g,id:j.e}),Object(j.i)([Object(j.h)({}),Object(j.h)({familyName:j.g,familyNames:Object(j.a)(j.g),familyKey:j.g}),Object(j.h)({soName:j.g,familyKey:j.g})])]),Object(j.f)({weddingAcceptedCount:j.e,weddingDeclinedCount:j.e,receptionAcceptedCount:j.e,receptionDeclinedCount:j.e})]),h=Object(j.h)({acceptCount:j.e,declineCount:j.e,notes:j.g}),m=Object(j.f)({wedding:h,reception:Object(j.c)([Object(j.h)({foodPreferences:Object(j.a)(Object(j.i)([Object(j.d)("vegetarian"),Object(j.d)("pescetarian"),Object(j.d)("chicken"),Object(j.d)("beef")])),attendeeNames:Object(j.a)(j.g),childrenAttendingCount:j.e}),h])}),p=Object(j.h)({name:j.g,zip:j.g}),f=(Object(j.c)([m,p,Object(j.f)({familyName:j.g})]),"https://wrsvp-api.herokuapp.com/"),O={method:"POST",url:"".concat(f,"authorizeUser"),input:{name:"",zip:""},decoder:g},v=("".concat(f,"rsvp"),j.j,n(108)),x=n.n(v),w=n(109),y=n.n(w),I=n(110),C=n.n(I),S=n(111),P=n.n(S),k=n(3),z={square:{folderName:"square",itemCount:9},tall:{folderName:"3-2",itemCount:5},wide:{folderName:"4-3",itemCount:6}},N=function(e){return function(t){return Object(k.c)(t,(function(){return y()(1,e)}),x.a,C()(t))}},F="#8F5D5D",D="#3D405B",B="#F4F1DE",V=F,W="#F2CC8F",A=F,L=n(0),J=function(e){var t=e.onPress,n=e.label;return Object(L.jsx)("button",{onClick:t,style:{borderWidth:0,borderColor:W,backgroundColor:V,height:"8vh",width:"100%",color:B,fontSize:"1.5em",fontWeight:"bold",borderStyle:"solid"},children:n})},M=(n(266),n(274)),R=function(e){var t=e.onSubmit,n=e.submitting,c=e.error,o=Object(u.a)().t,r=Object(i.useState)({name:"",zip:""}),a=Object(s.a)(r,2),d=a[0],l=d.name,j=d.zip,b=a[1];return Object(L.jsx)("div",{children:Object(L.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t({name:l,zip:j})},style:{display:"flex",height:"40vh",flexDirection:"column",justifyContent:"space-between"},children:[Object(L.jsx)("header",{children:Object(L.jsx)("h1",{style:{color:D},children:o("loginPage.title")})}),Object(L.jsxs)("div",{children:[Object(L.jsx)("div",{children:Object(L.jsx)("input",{placeholder:o("loginPage.nameInput"),className:"inputField",type:"text",inputMode:"text",onChange:function(e){return b((function(t){return{zip:t.zip,name:e.target.value}}))}})}),Object(L.jsx)("div",{children:Object(L.jsx)("input",{placeholder:o("loginPage.zipInput"),className:"inputField",type:"text",pattern:"[0-9]*",inputMode:"numeric",onChange:function(e){return b((function(t){return{name:t.name,zip:e.target.value}}))}})})]}),c&&Object(L.jsx)("span",{style:{color:A,padding:"0 5vw"},children:c}),Object(L.jsxs)("button",{disabled:n||!l||!j,style:{backgroundColor:D,color:B},className:"loginButton",onClick:function(){return t({name:l,zip:j})},children:[o("loginPage.submitButton"),n&&Object(L.jsx)(M.a,{style:{marginLeft:7.5},size:25,color:B,thickness:3})]})]})})},E=function(e){var t=Object.assign({},e),n=Object(u.a)().t,c=Object(i.useState)(!1),o=Object(s.a)(c,2),r=o[0],a=o[1];Object(i.useEffect)((function(){fetch("https://wrsvp-api.herokuapp.com/")}),[]);var d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(t){return Object(k.c)(e,N(z[t].itemCount),P()((function(e){return"".concat("","/bgImages/").concat(z[t].folderName,"/").concat(e,".jpg")})))}}(2)("wide");return Object(L.jsx)("div",{children:Object(L.jsxs)("div",{className:"splashEnter",style:{backgroundColor:B},children:[Object(L.jsx)("div",{style:{height:"30vh",backgroundImage:"url('".concat(d[0],"')"),backgroundSize:"cover",backgroundPosition:"center"}}),r?Object(L.jsx)("div",{style:{height:"40vh"},children:Object(L.jsx)(R,Object(l.a)({},t))}):Object(L.jsxs)("a",{href:"#",onClick:function(){return a(!0)},style:{display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",textDecoration:"none",color:D,backgroundColor:B,height:"40vh"},children:[Object(L.jsx)("div",{}),Object(L.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"flex-start"},children:[Object(L.jsxs)("p",{style:{textAlign:"left",lineHeight:"1em"},children:[n("welcome.date"),Object(L.jsx)("br",{}),n("welcome.location")]}),Object(L.jsx)("h1",{style:{lineHeight:"1.1em"},children:n("welcome.line1")}),Object(L.jsx)("h1",{style:{lineHeight:"1.1em"},children:n("welcome.line2")})]}),Object(L.jsx)(J,{onPress:function(){return a(!0)},label:n("welcome.enterButton")})]}),Object(L.jsx)("div",{style:{height:"30vh",backgroundImage:"url('".concat(d[1],"')"),backgroundSize:"cover",backgroundPosition:"center"}})]})})},T="RSVP_AUTH",G=function(){var e=function(e){var t=Object(u.a)().t,n=Object(i.useState)({data:void 0,loading:!1,error:void 0}),c=Object(s.a)(n,2),o=c[0],r=c[1];return[function(n){return r({data:void 0,loading:!0,error:void 0}),fetch(e.url,{method:e.method,headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return 200===e.status?e.json():new Error(t("noInviteeFound"))})).then((function(t){return e.decoder.decode(t)})).then(b.c((function(e){return r({data:void 0,loading:!1,error:e[0].message||t("noInviteeFound")})}),(function(e){return r({data:e,loading:!1,error:void 0})}))).catch((function(e){return r((function(){return{error:e.toString(),loading:!1}}))}))},o]}(O),t=Object(s.a)(e,2),n=t[0],c=t[1],o=c.data,r=c.error,a=c.loading,d=Object(i.useState)(),l=Object(s.a)(d,2),j=l[0],g=l[1];return Object(i.useEffect)((function(){var e=window.localStorage.getItem(T);if(e)try{var t=JSON.parse(e);t.name&&n(t).then((function(){return g(t)}))}catch(i){}}),[]),Object(i.useEffect)((function(){o&&!r&&!a&&j&&window.localStorage.setItem(T,JSON.stringify(j))}),[o,r,a,j]),{signIn:function(e){g({name:e.name.trim(),zip:e.zip.trim()}),n({name:e.name.trim(),zip:e.zip.trim()}).catch((function(){return"error loging in"}))},signOut:function(){window.localStorage.removeItem(T),g(void 0),window.location.reload()},results:e[1]}},H=function(e){e.auth;var t=Object(u.a)().t;return Object(L.jsxs)("div",{children:[Object(L.jsx)("h3",{children:t("receptionInfo.title")}),Object(L.jsx)("div",{children:t("welcome.date")}),Object(L.jsx)("div",{children:t("receptionInfo.location")}),Object(L.jsx)("div",{children:t("receptionInfo.time")}),Object(L.jsx)("button",{children:t("moreInfo")})]})},U=function(e){e.auth;var t,n,i=Object(u.a)().t;return Object(L.jsxs)("div",{children:[Object(L.jsx)("h2",{children:i("weddingInfo.title")}),Object(L.jsx)("div",{children:i("welcome.date")}),Object(L.jsx)("div",{children:i("weddingInfo.weddingLocation")}),Object(L.jsx)("div",{children:i("weddingInfo.time")}),Object(L.jsx)("button",{children:i("moreInfo")}),Object(L.jsxs)("div",{children:[Object(L.jsx)("a",{target:"_blank",rel:"noreferrer",href:(t=i("weddingVenue.lat"),n=i("weddingVenue.long"),-1!==navigator.platform.indexOf("iPhone")||-1!==navigator.platform.indexOf("iPad")||-1!==navigator.platform.indexOf("iPod")?"maps://maps.google.com/maps?daddr=".concat(t,",").concat(n,"&amp;ll="):"https://maps.google.com/maps?daddr=".concat(t,",").concat(n,"&amp;ll=")),children:"Google Maps"}),Object(L.jsx)("div",{children:Object(L.jsx)("iframe",{src:"https://snazzymaps.com/embed/325290",width:"800px",height:"600px",title:"Wedding Venue Map",style:{border:"none",maxWidth:"100%"}})})]})]})},q=function(e){var t=e.auth,n=Object(u.a)().t;return console.log(t),Object(L.jsxs)("div",{children:[Object(L.jsx)("h1",{children:"Dashboard"}),Object(L.jsx)("p",{children:n("userGreeting",{name:t.displayName})}),t.weddingAccess&&Object(L.jsx)(U,{auth:t}),t.receptionAccess&&Object(L.jsx)(H,{auth:t})]})};var K=function(){var e=G(),t=e.signIn,n=(e.signOut,e.results),i=n.data,c=n.loading,o=n.error;return Object(L.jsx)("div",{className:"App",children:i?Object(L.jsx)(q,{auth:i}):Object(L.jsx)(E,{onSubmit:function(e){return t(e)},submitting:c,error:o})})},_=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,275)).then((function(t){var n=t.getCLS,i=t.getFID,c=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),i(e),c(e),o(e),r(e)}))};r.a.render(Object(L.jsx)(c.a.StrictMode,{children:Object(L.jsx)(K,{})}),document.getElementById("root")),_()}},[[271,1,2]]]);
//# sourceMappingURL=main.68fcd4cc.chunk.js.map