(this.webpackJsonprsvp=this.webpackJsonprsvp||[]).push([[0],{21:function(e,t,n){},22:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);var c=n(2),i=n.n(c),a=n(10),o=n.n(a),r=(n(21),n(9)),d=n(5);r.a.use(d.e).init({resources:{en:{translation:{"dashboard.updateWeddingRsvpButton":"Update Wedding RSVP ({{accepted}}accepted/{{declined}}declined)","dashboard.setWeddingRsvpButton":"RSVP to the wedding",welcome:"Welcome","loginPage.title":"Log In","loginPage.nameInput":"Name","loginPage.zipInput":"Zip Code","loginPage.submitButton":"Log In",userGreeting:"Welcome, {{name}}",coupleGreeting:"Welcome {{name}} and {{soName}}","welcome.line1":"Marc","welcome.line2":"&","welcome.line3":"Jenna","welcome.subheading1":"Las Vegas, NV","welcome.subheading2":"October 23, 2021","welcome.enterButton":"RSVP here"}},kr:{translation:{welcome:"\ud658\uc601\ud558\ub2e4"}}},fallbackLng:"en",interpolation:{escapeValue:!1}});r.a,n(22);var s=n(16),u=n(4),l=n(30),j=n(1),b=n(3),g=Object(j.c)([Object(j.c)([Object(j.h)({zip:j.g,weddingAccess:j.b,receptionAccess:j.b}),Object(j.h)({displayName:j.g,recordName:j.g,id:j.e}),Object(j.i)([Object(j.h)({}),Object(j.h)({familyName:j.g,familyNames:Object(j.a)(j.g),familyKey:j.g}),Object(j.h)({soName:j.g,familyKey:j.g})])]),Object(j.f)({weddingAcceptedCount:j.e,weddingDeclinedCount:j.e,receptionAcceptedCount:j.e,receptionDeclinedCount:j.e})]),h=Object(j.h)({acceptCount:j.e,declineCount:j.e,notes:j.g}),p=Object(j.f)({wedding:h,reception:Object(j.c)([Object(j.h)({foodPreferences:Object(j.a)(Object(j.i)([Object(j.d)("vegetarian"),Object(j.d)("pescetarian"),Object(j.d)("chicken"),Object(j.d)("beef")])),attendeeNames:Object(j.a)(j.g),childrenAttendingCount:j.e}),h])}),O=Object(j.h)({name:j.g,zip:j.g}),m=(Object(j.c)([p,O,Object(j.f)({familyName:j.g})]),"https://wrsvp-api.herokuapp.com/"),f={method:"POST",url:"".concat(m,"authorizeUser"),input:{name:"",zip:""},decoder:g},w=("".concat(m,"rsvp"),j.j,n(0)),x=function(e){var t=e.onSubmit,n=e.submitting,i=Object(l.a)().t,a=Object(c.useState)({name:"",zip:""}),o=Object(u.a)(a,2),r=o[0],d=r.name,s=r.zip,j=o[1];return Object(w.jsx)("div",{children:Object(w.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t({name:d,zip:s})},children:[Object(w.jsxs)("div",{children:[i("loginPage.nameInput"),Object(w.jsx)("input",{type:"text",onChange:function(e){return j((function(t){return{zip:t.zip,name:e.target.value}}))}})]}),Object(w.jsxs)("div",{children:[i("loginPage.zipInput"),Object(w.jsx)("input",{type:"text",onChange:function(e){return j((function(t){return{name:t.name,zip:e.target.value}}))}})]}),Object(w.jsx)("input",{type:"submit",title:i("loginPage.subitButton")}),n?" loading":""]})})},v=function(e){var t=Object.assign({},e),n=Object(l.a)().t,i=Object(c.useState)(!1),a=Object(u.a)(i,2),o=a[0],r=a[1];return Object(c.useEffect)((function(){fetch("https://wrsvp-api.herokuapp.com/")}),[]),Object(w.jsx)("div",{children:o?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("header",{children:Object(w.jsx)("h1",{children:n("loginPage.title")})}),Object(w.jsx)(x,Object(s.a)({},t))]}):Object(w.jsxs)("div",{children:[Object(w.jsx)("h1",{children:n("welcome.line1")}),Object(w.jsx)("h1",{children:n("welcome.line2")}),Object(w.jsx)("h1",{children:n("welcome.line3")}),Object(w.jsx)("p",{children:n("welcome.subheading1")}),Object(w.jsx)("p",{children:n("welcome.subheading2")}),Object(w.jsx)("button",{onClick:function(){return r(!0)},children:n("welcome.enterButton")})]})})},N="RSVP_AUTH",y=function(){var e=function(e){var t=Object(c.useState)({data:void 0,loading:!1,error:void 0}),n=Object(u.a)(t,2),i=n[0],a=n[1];return[function(t){a({data:void 0,loading:!0,error:void 0}),fetch(e.url,{method:e.method,headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(t){return e.decoder.decode(t)})).then(b.c((function(e){return a({data:void 0,loading:!1,error:e[0].message||"Failed to parse api response"})}),(function(e){return a({data:e,loading:!1,error:void 0})})))},i]}(f),t=Object(u.a)(e,2),n=t[0],i=t[1];i.data,i.error;return Object(c.useEffect)((function(){var e=window.localStorage.getItem(N);e&&n(JSON.stringify(e))}),[]),{signIn:function(e){window.localStorage.setItem(N,JSON.stringify(e)),n(e)},signOut:function(){window.localStorage.removeItem(N),window.location.reload()},results:e[1]}},C=function(e){var t=e.auth,n=Object(l.a)().t;return Object(w.jsxs)("div",{children:[Object(w.jsx)("h1",{children:"Dashboard"}),Object(w.jsx)("p",{children:n("userGreeting",{name:t.displayName})}),t.weddingAcceptedCount&&(t.weddingAcceptedCount?Object(w.jsx)("button",{children:n("dashboard.updateWeddingRsvpButton",{accepted:t.weddingAcceptedCount,declined:t.weddingDeclinedCount})}):Object(w.jsx)("button",{children:n("dashboard.setWeddingRsvpButton")}))]})},S=n(15),P=function(e){Object(S.a)(e);Object(l.a)().t;return Object(w.jsxs)("div",{style:{zIndex:-1,position:"absolute",left:0,top:0,width:"100vw",flexDirection:"row",flexWrap:"wrap"},children:[Object(w.jsx)(I,{width:49}),Object(w.jsxs)("div",{style:{width:"49%",flexDirection:"row",flexWrap:"wrap"},children:[Object(w.jsx)(I,{width:50}),Object(w.jsx)(I,{width:50}),Object(w.jsx)(I,{width:50}),Object(w.jsx)(I,{width:50})]})]})},I=function(e){var t=e.size,n=void 0===t?"square":t,c=e.width,i=(e.height,{square:{folderName:"square",maxNum:9},tall:{folderName:"3-2",maxNum:6},wide:{folderName:"4-3",maxNum:5}}),a="/bgImages/".concat(i[n].folderName,"/").concat(Math.ceil(Math.random()*i[n].maxNum),".jpg");return Object(w.jsx)("img",{src:a,style:{width:"".concat(c,"%"),filter:"saturate(0.5) contrast(0.5)"}})};var z=function(){var e=y(),t=e.signIn,n=(e.signOut,e.results),c=n.data,i=n.loading;return n.error,Object(w.jsxs)("div",{className:"App",children:[Object(w.jsx)(P,{}),c?Object(w.jsx)(C,{auth:c}):Object(w.jsx)(v,{onSubmit:function(e){t(e)},submitting:i})]})},A=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,31)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),c(e),i(e),a(e),o(e)}))};o.a.render(Object(w.jsx)(i.a.StrictMode,{children:Object(w.jsx)(z,{})}),document.getElementById("root")),A()}},[[29,1,2]]]);
//# sourceMappingURL=main.50d49c06.chunk.js.map