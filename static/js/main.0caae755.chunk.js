(this.webpackJsonprsvp=this.webpackJsonprsvp||[]).push([[0],{116:function(e,t,n){},117:function(e,t,n){},261:function(e,t,n){},267:function(e,t,n){"use strict";n.r(t);var c=n(3),i=n.n(c),o=n(102),r=n.n(o),a=(n(116),n(60)),d=n(20);a.a.use(d.e).init({resources:{en:{translation:{"dashboard.updateWeddingRsvpButton":"Update Wedding RSVP ({{accepted}}accepted/{{declined}}declined)","dashboard.setWeddingRsvpButton":"RSVP to the wedding",welcome:"Welcome","loginPage.title":"Log In","loginPage.nameInput":"Name","loginPage.zipInput":"Zip Code","loginPage.submitButton":"Log In",userGreeting:"Welcome, {{name}}",coupleGreeting:"Welcome {{name}} and {{soName}}","welcome.date":"10.23.21","welcome.location":"Las Vegas, NV","welcome.line1":"Jenna (Jieun) &","welcome.line2":"Marc","welcome.enterButton":"RSVP"}},kr:{translation:{welcome:"\ud658\uc601\ud558\ub2e4"}}},fallbackLng:"en",interpolation:{escapeValue:!1}});a.a,n(117);var l=n(111),s=n(9),u=n(268),b=n(0),j=n(4),g=Object(b.c)([Object(b.c)([Object(b.h)({zip:b.g,weddingAccess:b.b,receptionAccess:b.b}),Object(b.h)({displayName:b.g,recordName:b.g,id:b.e}),Object(b.i)([Object(b.h)({}),Object(b.h)({familyName:b.g,familyNames:Object(b.a)(b.g),familyKey:b.g}),Object(b.h)({soName:b.g,familyKey:b.g})])]),Object(b.f)({weddingAcceptedCount:b.e,weddingDeclinedCount:b.e,receptionAcceptedCount:b.e,receptionDeclinedCount:b.e})]),h=Object(b.h)({acceptCount:b.e,declineCount:b.e,notes:b.g}),p=Object(b.f)({wedding:h,reception:Object(b.c)([Object(b.h)({foodPreferences:Object(b.a)(Object(b.i)([Object(b.d)("vegetarian"),Object(b.d)("pescetarian"),Object(b.d)("chicken"),Object(b.d)("beef")])),attendeeNames:Object(b.a)(b.g),childrenAttendingCount:b.e}),h])}),m=Object(b.h)({name:b.g,zip:b.g}),f=(Object(b.c)([p,m,Object(b.f)({familyName:b.g})]),"https://wrsvp-api.herokuapp.com/"),O={method:"POST",url:"".concat(f,"authorizeUser"),input:{name:"",zip:""},decoder:g},v=("".concat(f,"rsvp"),b.j,n(106)),x=n.n(v),w=n(107),y=n.n(w),C=n(108),S=n.n(C),N=n(109),P=n.n(N),k=n(2),I={square:{folderName:"square",itemCount:9},tall:{folderName:"3-2",itemCount:5},wide:{folderName:"4-3",itemCount:6}},z=function(e){return function(t){return Object(k.c)(t,(function(){return y()(1,e)}),x.a,S()(t))}},D="#3D405B",F="#F4F1DE",W="#8F5D5D",A="#F2CC8F",B=n(1),R=function(e){var t=e.onPress,n=e.label;return Object(B.jsx)("button",{onClick:t,style:{borderWidth:0,borderColor:A,backgroundColor:W,height:"8vh",width:"100%",color:F,fontSize:"1.5em",fontWeight:"bold",borderStyle:"solid"},children:n})},J=(n(261),function(e){var t=e.onSubmit,n=e.submitting,i=Object(u.a)().t,o=Object(c.useState)({name:"",zip:""}),r=Object(s.a)(o,2),a=r[0],d=a.name,l=a.zip,b=r[1];return Object(B.jsx)("div",{children:Object(B.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t({name:d,zip:l})},style:{display:"flex",height:"40vh",flexDirection:"column",justifyContent:"space-between"},children:[Object(B.jsx)("header",{children:Object(B.jsx)("h1",{style:{color:D,marginTop:"5vh"},children:i("loginPage.title")})}),Object(B.jsxs)("div",{children:[Object(B.jsx)("div",{children:Object(B.jsx)("input",{placeholder:i("loginPage.nameInput"),className:"inputField",type:"text",inputMode:"text",onChange:function(e){return b((function(t){return{zip:t.zip,name:e.target.value}}))}})}),Object(B.jsx)("div",{children:Object(B.jsx)("input",{placeholder:i("loginPage.zipInput"),className:"inputField",type:"text",pattern:"[0-9]*",inputMode:"numeric",onChange:function(e){return b((function(t){return{name:t.name,zip:e.target.value}}))}})})]}),Object(B.jsx)("input",{disabled:n,style:{backgroundColor:D,height:"8vh",borderWidth:0,width:"100vw",color:F,fontSize:"1.5em",fontWeight:"bold",cursor:"pointer"},type:"submit",title:"str",value:i("loginPage.submitButton")})]})})}),V=function(e){var t=Object.assign({},e),n=Object(u.a)().t,i=Object(c.useState)(!1),o=Object(s.a)(i,2),r=o[0],a=o[1];Object(c.useEffect)((function(){fetch("https://wrsvp-api.herokuapp.com/")}),[]);var d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(t){return Object(k.c)(e,z(I[t].itemCount),P()((function(e){return"".concat("","/bgImages/").concat(I[t].folderName,"/").concat(e,".jpg")})))}}(2)("wide");return Object(B.jsx)("div",{children:Object(B.jsxs)("div",{className:"splashEnter",style:{backgroundColor:F},children:[Object(B.jsx)("div",{style:{height:"30vh",backgroundImage:"url('".concat(d[0],"')"),backgroundSize:"cover",backgroundPosition:"center"}}),r?Object(B.jsx)("div",{style:{height:"40vh"},children:Object(B.jsx)(J,Object(l.a)({},t))}):Object(B.jsxs)("a",{href:"#",onClick:function(){return a(!0)},style:{display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",textDecoration:"none",color:D,backgroundColor:F,height:"40vh"},children:[Object(B.jsx)("div",{}),Object(B.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"flex-start"},children:[Object(B.jsxs)("p",{style:{textAlign:"left",lineHeight:"1em"},children:[n("welcome.date"),Object(B.jsx)("br",{}),n("welcome.location")]}),Object(B.jsx)("h1",{style:{lineHeight:"1.1em"},children:n("welcome.line1")}),Object(B.jsx)("h1",{style:{lineHeight:"1.1em"},children:n("welcome.line2")})]}),Object(B.jsx)(R,{onPress:function(){return a(!0)},label:n("welcome.enterButton")})]}),Object(B.jsx)("div",{style:{height:"30vh",backgroundImage:"url('".concat(d[1],"')"),backgroundSize:"cover",backgroundPosition:"center"}})]})})},L="RSVP_AUTH",T=function(){var e=function(e){var t=Object(c.useState)({data:void 0,loading:!1,error:void 0}),n=Object(s.a)(t,2),i=n[0],o=n[1];return[function(t){o({data:void 0,loading:!0,error:void 0}),fetch(e.url,{method:e.method,headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(t){return e.decoder.decode(t)})).then(j.c((function(e){return o({data:void 0,loading:!1,error:e[0].message||"Failed to parse api response"})}),(function(e){return o({data:e,loading:!1,error:void 0})})))},i]}(O),t=Object(s.a)(e,2),n=t[0],i=t[1];i.data,i.error;return Object(c.useEffect)((function(){var e=window.localStorage.getItem(L);e&&n(JSON.stringify(e))}),[]),{signIn:function(e){window.localStorage.setItem(L,JSON.stringify(e)),n(e)},signOut:function(){window.localStorage.removeItem(L),window.location.reload()},results:e[1]}},E=function(e){var t=e.auth,n=Object(u.a)().t;return Object(B.jsxs)("div",{children:[Object(B.jsx)("h1",{children:"Dashboard"}),Object(B.jsx)("p",{children:n("userGreeting",{name:t.displayName})}),t.weddingAcceptedCount&&(t.weddingAcceptedCount?Object(B.jsx)("button",{children:n("dashboard.updateWeddingRsvpButton",{accepted:t.weddingAcceptedCount,declined:t.weddingDeclinedCount})}):Object(B.jsx)("button",{children:n("dashboard.setWeddingRsvpButton")}))]})};var H=function(){var e=T(),t=e.signIn,n=(e.signOut,e.results),c=n.data,i=n.loading;return n.error,Object(B.jsx)("div",{className:"App",children:c?Object(B.jsx)(E,{auth:c}):Object(B.jsx)(V,{onSubmit:function(e){t(e)},submitting:i})})},M=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,269)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),c(e),i(e),o(e),r(e)}))};r.a.render(Object(B.jsx)(i.a.StrictMode,{children:Object(B.jsx)(H,{})}),document.getElementById("root")),M()}},[[267,1,2]]]);
//# sourceMappingURL=main.0caae755.chunk.js.map