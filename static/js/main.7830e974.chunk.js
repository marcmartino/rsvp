(this.webpackJsonprsvp=this.webpackJsonprsvp||[]).push([[0],{116:function(e,t,n){},117:function(e,t,n){},266:function(e,t,n){},271:function(e,t,n){"use strict";n.r(t);var i=n(2),o=n.n(i),c=n(103),r=n.n(c),a=(n(116),n(61)),d=n(21);a.a.use(d.e).init({resources:{en:{translation:{"dashboard.updateWeddingRsvpButton":"Update Wedding RSVP ({{accepted}}accepted/{{declined}}declined)","dashboard.setWeddingRsvpButton":"RSVP to the wedding",welcome:"Welcome","loginPage.title":"Log In","loginPage.nameInput":"Name","loginPage.zipInput":"Zip Code","loginPage.submitButton":"Log In",userGreeting:"Welcome, {{name}}",coupleGreeting:"Welcome {{name}} and {{soName}}","welcome.date":"10.23.2021","welcome.location":"Las Vegas, NV","welcome.line1":"Jenna (Jieun) &","welcome.line2":"Marc","welcome.enterButton":"RSVP","receptionInfo.title":"Reception","receptionInfo.location":"The Blind Center","receptionInfo.time":"5:00pm","weddingInfo.title":"Wedding","weddingInfo.weddingLocation":"Red Springs Boardwalk","weddingInfo.time":"10:00am",moreInfo:"More Info",noInviteeFound:"Invitee not found- Please try again or reach out directly to Marc or Jenna",jsonParse:"Failed to parse api response","weddingVenue.long":"-115.4191462","weddingVenue.lat":"36.1464701","weddingVenue.address":"Las Vegas, NV 89161",clickForMap:"\ud83d\uddfa\ufe0f","weddingRsvp.set":"Wedding RSVP already set",updateRsvp:"Update RSVP",setRsvp:"RSVP Here",weddingDescriptionText:'Our ceremony will be held at the \n      Red Spring boardwalk platform\n      The ceremony will begin promptly at 10:30 AM\n      It will last for about half an hour\n      After parking your car, walk toward the picnic area.\n      Then you will see the boardwalk ahead\n      Please follow the path and\n      arrive at the beautiful outdoor ceremony platform\n      As you will be walking a bit, \n      please consider wearing comfortable shoes for walking\n      You can find the direction to the parking area \n      by googling "Red Spring Picnic Area"\n      See you at the wedding.\n      ',logout:"Logout"}},kr:{translation:{welcome:"\ud658\uc601\ud558\ub2e4"}}},fallbackLng:"en",interpolation:{escapeValue:!1}});a.a,n(117);var l=n(34),s=n(8),u=n(273),g=n(1),j=n(4),b=Object(g.c)([Object(g.c)([Object(g.h)({zip:g.g,weddingAccess:g.b,receptionAccess:g.b}),Object(g.h)({displayName:g.g,recordName:g.g,id:g.e}),Object(g.i)([Object(g.h)({}),Object(g.h)({familyName:g.g,familyNames:Object(g.a)(g.g),familyKey:g.g}),Object(g.h)({soName:g.g,familyKey:g.g})])]),Object(g.f)({weddingAcceptedCount:g.e,weddingDeclinedCount:g.e,receptionAcceptedCount:g.e,receptionDeclinedCount:g.e})]),p=Object(g.h)({acceptCount:g.e,declineCount:g.e,notes:g.g}),h=Object(g.f)({wedding:p,reception:Object(g.c)([Object(g.h)({foodPreferences:Object(g.a)(Object(g.i)([Object(g.d)("vegetarian"),Object(g.d)("pescetarian"),Object(g.d)("chicken"),Object(g.d)("beef")])),attendeeNames:Object(g.a)(g.g),childrenAttendingCount:g.e}),p])}),f=Object(g.h)({name:g.g,zip:g.g}),m=(Object(g.c)([h,f,Object(g.f)({familyName:g.g})]),"https://wrsvp-api.herokuapp.com/"),O={method:"POST",url:"".concat(m,"authorizeUser"),input:{name:"",zip:""},decoder:b},x=("".concat(m,"rsvp"),g.j,n(108)),v=n.n(x),w=n(109),y=n.n(w),C=n(110),I=n.n(C),k=n(111),S=n.n(k),P=n(3),N={square:{folderName:"square",itemCount:9},tall:{folderName:"3-2",itemCount:5},wide:{folderName:"4-3",itemCount:6}},z=function(e){return function(t){return Object(P.c)(t,(function(){return y()(1,e)}),v.a,I()(t))}},D="#8F5D5D",R="#3D405B",A="#F4F1DE",F="#EAB69F",V=D,B="#F2CC8F",L="#81B29A",W=D,T=n(0),M=function(e){var t=e.onPress,n=e.label;return Object(T.jsx)("button",{onClick:t,style:{borderWidth:0,borderColor:B,backgroundColor:V,height:"8vh",width:"100%",color:A,fontSize:"1.5em",fontWeight:"bold",borderStyle:"solid"},children:n})},E=(n(266),n(274)),J=function(e){var t=e.onSubmit,n=e.submitting,o=e.error,c=Object(u.a)().t,r=Object(i.useState)({name:"",zip:""}),a=Object(s.a)(r,2),d=a[0],l=d.name,g=d.zip,j=a[1];return Object(T.jsx)("div",{children:Object(T.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t({name:l,zip:g})},style:{display:"flex",height:"40vh",flexDirection:"column",justifyContent:"space-between"},children:[Object(T.jsx)("header",{children:Object(T.jsx)("h1",{style:{color:R},children:c("loginPage.title")})}),Object(T.jsxs)("div",{children:[Object(T.jsx)("div",{children:Object(T.jsx)("input",{placeholder:c("loginPage.nameInput"),className:"inputField",type:"text",inputMode:"text",onChange:function(e){return j((function(t){return{zip:t.zip,name:e.target.value}}))}})}),Object(T.jsx)("div",{children:Object(T.jsx)("input",{placeholder:c("loginPage.zipInput"),className:"inputField",type:"text",pattern:"[0-9]*",inputMode:"numeric",onChange:function(e){return j((function(t){return{name:t.name,zip:e.target.value}}))}})})]}),o&&Object(T.jsx)("span",{style:{color:W,padding:"0 5vw"},children:o}),Object(T.jsxs)("button",{disabled:n||!l||!g,style:{backgroundColor:R,color:A},className:"loginButton",onClick:function(){return t({name:l,zip:g})},children:[c("loginPage.submitButton"),n&&Object(T.jsx)(E.a,{style:{marginLeft:7.5},size:25,color:A,thickness:3})]})]})})},H=function(e){var t=Object.assign({},e),n=Object(u.a)().t,o=Object(i.useState)(!1),c=Object(s.a)(o,2),r=c[0],a=c[1];Object(i.useEffect)((function(){fetch("https://wrsvp-api.herokuapp.com/")}),[]);var d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(t){return Object(P.c)(e,z(N[t].itemCount),S()((function(e){return"".concat("","/bgImages/").concat(N[t].folderName,"/").concat(e,".jpg")})))}}(2)("wide");return Object(T.jsx)("div",{children:Object(T.jsxs)("div",{className:"splashEnter",style:{backgroundColor:A},children:[Object(T.jsx)("div",{style:{height:"30vh",backgroundImage:"url('".concat(d[0],"')"),backgroundSize:"cover",backgroundPosition:"center"}}),r?Object(T.jsx)("div",{style:{height:"40vh"},children:Object(T.jsx)(J,Object(l.a)({},t))}):Object(T.jsxs)("a",{href:"#",onClick:function(){return a(!0)},style:{display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",textDecoration:"none",color:R,backgroundColor:A,height:"40vh"},children:[Object(T.jsx)("div",{}),Object(T.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"flex-start"},children:[Object(T.jsxs)("p",{style:{textAlign:"left",lineHeight:"1em"},children:[n("welcome.date"),Object(T.jsx)("br",{}),n("welcome.location")]}),Object(T.jsx)("h1",{style:{lineHeight:"1.1em"},children:n("welcome.line1")}),Object(T.jsx)("h1",{style:{lineHeight:"1.1em"},children:n("welcome.line2")})]}),Object(T.jsx)(M,{onPress:function(){return a(!0)},label:n("welcome.enterButton")})]}),Object(T.jsx)("div",{style:{height:"30vh",backgroundImage:"url('".concat(d[1],"')"),backgroundSize:"cover",backgroundPosition:"center"}})]})})},U="RSVP_AUTH",G=function(){var e=function(e){var t=Object(u.a)().t,n=Object(i.useState)({data:void 0,loading:!1,error:void 0}),o=Object(s.a)(n,2),c=o[0],r=o[1];return[function(n){return r({data:void 0,loading:!0,error:void 0}),fetch(e.url,{method:e.method,headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return 200===e.status?e.json():new Error(t("noInviteeFound"))})).then((function(t){return e.decoder.decode(t)})).then(j.c((function(e){return r({data:void 0,loading:!1,error:e[0].message||t("noInviteeFound")})}),(function(e){return r({data:e,loading:!1,error:void 0})}))).catch((function(e){return r((function(){return{error:e.toString(),loading:!1}}))}))},c]}(O),t=Object(s.a)(e,2),n=t[0],o=t[1],c=o.data,r=o.error,a=o.loading,d=Object(i.useState)(),l=Object(s.a)(d,2),g=l[0],b=l[1];return Object(i.useEffect)((function(){var e=window.localStorage.getItem(U);if(e)try{var t=JSON.parse(e);t.name&&n(t).then((function(){return b(t)}))}catch(i){}}),[]),Object(i.useEffect)((function(){c&&!r&&!a&&g&&window.localStorage.setItem(U,JSON.stringify(g))}),[c,r,a,g]),{signIn:function(e){b({name:e.name.trim(),zip:e.zip.trim()}),n({name:e.name.trim(),zip:e.zip.trim()}).catch((function(){return"error loging in"}))},signOut:function(){window.localStorage.removeItem(U),b(void 0),window.location.reload()},results:e[1]}},q=function(e){e.auth;var t=Object(u.a)().t;return Object(T.jsxs)("div",{children:[Object(T.jsx)("h3",{children:t("receptionInfo.title")}),Object(T.jsx)("div",{children:t("welcome.date")}),Object(T.jsx)("div",{children:t("receptionInfo.location")}),Object(T.jsx)("div",{children:t("receptionInfo.time")}),Object(T.jsx)("button",{children:t("moreInfo")})]})},K=function(e){var t,n,i=e.auth,c=Object(u.a)().t,r=o.a.useState(!1),a=Object(s.a)(r,2),d=a[0],l=a[1];return Object(T.jsxs)("div",{style:{backgroundColor:F,width:"90%",padding:"5px 0 0"},children:[Object(T.jsx)("h2",{children:c("weddingInfo.title")}),Object(T.jsxs)("div",{style:{flexDirection:"row",display:"flex",justifyContent:"center",alignItems:"center",marginBottom:15},children:[Object(T.jsxs)("div",{children:[Object(T.jsx)("div",{children:c("weddingInfo.weddingLocation")}),Object(T.jsx)("div",{children:c("weddingVenue.address")})]}),Object(T.jsx)("div",{children:Object(T.jsx)("a",{target:"_blank",rel:"noreferrer",href:(t=c("weddingVenue.lat"),n=c("weddingVenue.long"),-1!==navigator.platform.indexOf("iPhone")||-1!==navigator.platform.indexOf("iPad")||-1!==navigator.platform.indexOf("iPod")?"maps://maps.google.com/maps?daddr=".concat(t,",").concat(n,"&amp;ll="):"https://maps.google.com/maps?daddr=".concat(t,",").concat(n,"&amp;ll=")),style:{backgroundColor:A,padding:10,marginLeft:10,borderRadius:"50%",borderWidth:3,borderColor:L,borderStyle:"solid"},children:c("clickForMap")})})]}),Object(T.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-evenly",marginBottom:15},children:[Object(T.jsx)("div",{children:c("welcome.date")}),Object(T.jsx)("div",{children:c("weddingInfo.time")})]}),!d&&Object(T.jsx)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"flex-end"},children:Object(T.jsx)("a",{href:"#",style:{padding:"10px 10px 10px 0"},onClick:function(){return l(!0)},children:c("moreInfo")})}),d&&Object(T.jsx)("div",{className:"hiddenDescription",style:{margin:"10px 0"},children:Object(T.jsx)("p",{style:{padding:"10px 10px",margin:"0 10px",backgroundColor:A,borderLeftWidth:3,borderLeftStyle:"solid",borderLeftColor:L,textAlign:"left"},children:c("weddingDescriptionText")})}),void 0!==(null===i||void 0===i?void 0:i.weddingAcceptedCount)&&(null===i||void 0===i?void 0:i.weddingDeclinedCount)?Object(T.jsxs)("div",{children:[c("weddingRsvp.set"),Object(T.jsx)("button",{children:c("updateRsvp")})]}):Object(T.jsx)("button",{style:{width:"100%",backgroundColor:R,color:A,borderWidth:0,padding:"10px 0",fontSize:"1.5em"},children:c("setRsvp")})]})},_=function(e){var t=e.auth,n=e.signout,i=Object(u.a)().t;return console.log(t),Object(T.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:A,flex:1},children:[Object(T.jsx)("h1",{children:i("userGreeting",{name:t.displayName})}),t.weddingAccess&&Object(T.jsx)(K,{auth:t}),t.receptionAccess&&Object(T.jsx)(q,{auth:t}),Object(T.jsx)("button",{onClick:function(){return n()},children:i("logout")})]})};var Y=function(){var e=G(),t=e.signIn,n=e.signOut,i=e.results,o=i.data,c=i.loading,r=i.error;return Object(T.jsx)("div",{className:"App",children:o?Object(T.jsx)(_,{signout:n,auth:o}):Object(T.jsx)(H,{onSubmit:function(e){return t(e)},submitting:c,error:r})})},Z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,275)).then((function(t){var n=t.getCLS,i=t.getFID,o=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),i(e),o(e),c(e),r(e)}))};r.a.render(Object(T.jsx)(o.a.StrictMode,{children:Object(T.jsx)(Y,{})}),document.getElementById("root")),Z()}},[[271,1,2]]]);
//# sourceMappingURL=main.7830e974.chunk.js.map